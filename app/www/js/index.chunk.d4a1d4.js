(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{0:function(e,t,n){e.exports=n("JimZ")},1:function(e,t){},"Iw/T":function(e,t,n){},JimZ:function(e,t,n){"use strict";n.r(t);var r=n("Hg0r"),a=n("Whig"),i=(n("rE2o"),n("ioFf"),n("91GP"),n("tPa5")),o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},l=function(n,r){var a,o,c,i={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;i;)try{if(a=1,o&&(c=2&t[0]?o.return:t[0]?o.throw||((c=o.return)&&c.call(o),0):o.next)&&!(c=c.call(o,t[1])).done)return c;switch(o=0,c&&(t=[2&t[0],c.value]),t[0]){case 0:case 1:c=t;break;case 4:return i.label++,{value:t[1],done:!1};case 5:i.label++,o=t[1],t=[0];continue;case 7:t=i.ops.pop(),i.trys.pop();continue;default:if(!(c=0<(c=i.trys).length&&c[c.length-1])&&(6===t[0]||2===t[0])){i=0;continue}if(3===t[0]&&(!c||t[1]>c[0]&&t[1]<c[3])){i.label=t[1];break}if(6===t[0]&&i.label<c[1]){i.label=c[1],c=t;break}if(c&&i.label<c[2]){i.label=c[2],i.ops.push(t);break}c[2]&&i.ops.pop(),i.trys.pop();continue}t=r.call(n,i)}catch(e){t=[6,e],o=0}finally{a=c=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},c=[{namespace:"demo",state:{demoList:[]},reducers:{save:function(e,t){var n=t.payload;return o(o({},e),n)}},effects:{getDemo:function(e,t){var n,r,a=e.payload,o=t.put,c=t.call;return l(this,function(e){switch(e.label){case 0:return n=a.params,[4,c(i.a,n)];case 1:return r=e.sent(),[4,o({type:"save",payload:{demoList:r.data.data}})];case 2:return e.sent(),[2]}})}}}],u=Object(r.a)();u.use(Object(a.a)({effect:!0})),c.forEach(function(e){u.model(e)}),u.router(n("fYDu").default),u.start("#app")},U2Ro:function(e,t,n){},fYDu:function(e,t,n){"use strict";n.r(t);function r(e){return h.createElement("div",{className:"layout",style:{minHeight:"100vh"}},h.createElement("div",{style:{padding:"0 50px"}},e.children))}function a(){var e=Object(h.useState)(""),t=e[0],r=e[1],n=Object(h.useState)([]),c=n[0],a=n[1],o=Object(h.useState)(!1),i=o[0],l=o[1],u=Object(h.useState)([]),s=u[0],f=u[1],p={onRemove:function(){a([])},beforeUpload:function(){return!1},fileList:c,onChange:function(e){g.debounce(a(e.fileList),100)},directory:!0,webkitdirectory:!0};Object(h.useEffect)(function(){k(void 0,void 0,void 0,function(){var t,n;return N(this,function(e){switch(e.label){case 0:return[4,Object(w.b)()];case 1:return t=e.sent(),n=t.data.prdList,console.log("prdList :>> ",n),f(n),[2]}})})},[0]);var d=function(){a([])};return m.a.createElement("div",{className:"body-wrapper index-wrapper"},m.a.createElement("div",{className:"c-fileupload"},m.a.createElement("div",{className:"c-fileupload-header"},m.a.createElement("h2",{className:"header-h2"},"线上预览prd文件")),m.a.createElement(y.a,null,m.a.createElement(v.a,{span:5},m.a.createElement("div",{className:"prd-list"},m.a.createElement("h2",{className:"prd-list-title"},"已经上传的prd"),m.a.createElement("ul",null,s.map(function(e){return m.a.createElement("li",{key:e.prdUrl},m.a.createElement("a",{href:e.prdUrl,target:"_blank"},e.name))})))),m.a.createElement(v.a,{span:19},m.a.createElement("div",{className:"c-fileupload-wrapper"},m.a.createElement(O,x({},p),m.a.createElement("p",{className:"ant-upload-drag-icon"},m.a.createElement(E.a,null)),m.a.createElement("p",{className:"ant-upload-text"},"点击此处或者拖拽文件夹上传")),m.a.createElement(y.a,{gutter:[16,24]},m.a.createElement(v.a,{span:6},m.a.createElement(b.a,{className:"btn-upload",type:"dashed",onClick:d,style:{marginTop:16}},"清除当前已选文件")),m.a.createElement(v.a,{span:18},m.a.createElement(b.a,{className:"btn-upload",type:"primary",onClick:function(){return k(void 0,void 0,void 0,function(){var n;return N(this,function(e){switch(e.label){case 0:return[4,k(void 0,void 0,void 0,function(){var t,n,r,a,o;return N(this,function(e){switch(e.label){case 0:return t=c[0],n=t.originFileObj,r=n.webkitRelativePath,0<(a=r.split("/")).length&&(o=a[0]),[4,Object(w.d)({floderName:o})];case 1:return e.sent().success?[2,!0]:[2,!1]}})})];case 1:return e.sent()?(i||(n=new FormData,c.forEach(function(e){var t=e.originFileObj;n.append("fileLists",t,window.encodeURIComponent(t.webkitRelativePath))}),l(!0),Object(w.c)(n,function(e){var t=e.success,n=e.data;t&&r(n.prdUrl),l(!1),d()},function(e){console.error(e),l(!1),d()})),[2]):[2]}})})},disabled:0===c.length,style:{marginTop:16},loading:i},i?"上传中":"开始上传"))),t?m.a.createElement("a",{className:"ant-upload-hint",href:t,target:"_blank"}," ",t," "):m.a.createElement("p",{className:"ant-upload-hint"}," 此处显示线上地址 "))))))}var h=n("q1tI"),m=n.n(h),o=(n("nWC1"),n("bAY4"),n("4IMT")),b=n.n(o),c=(n("f3/d"),n("YKpo"),n("ZPTe")),v=n.n(c),i=(n("SoD3"),n("9xET")),y=n.n(i),l=(n("KKXr"),n("e3Np"),n("B8+X")),u=n.n(l),w=(n("rE2o"),n("ioFf"),n("VRzm"),n("Btvt"),n("91GP"),n("tPa5")),s=n("+MSh"),E=n.n(s),g=(n("Iw/T"),{getUrlParams:function(){var e=window.location.href;e=(e=(e=(e=(e=e.split("#")||[])[1]||"").split("?")||[])[1]||"").split("&")||"";for(var t,n={},r=0;r<e.length;r++){e[r]&&(n[(t=e[r].split("="))[0]]=decodeURI(t[1]))}return n},debounce:function(n,r){var a;return function(){var e=this,t=arguments;a&&clearTimeout(a),a=setTimeout(function(){n.apply(e,t)},r)}}}),x=function(){return(x=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},k=function(e,c,i,l){return new(i=i||Promise)(function(n,t){function r(e){try{o(l.next(e))}catch(e){t(e)}}function a(e){try{o(l.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof i?t:new i(function(e){e(t)})).then(r,a)}o((l=l.apply(e,c||[])).next())})},N=function(n,r){var a,o,c,i={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;i;)try{if(a=1,o&&(c=2&t[0]?o.return:t[0]?o.throw||((c=o.return)&&c.call(o),0):o.next)&&!(c=c.call(o,t[1])).done)return c;switch(o=0,c&&(t=[2&t[0],c.value]),t[0]){case 0:case 1:c=t;break;case 4:return i.label++,{value:t[1],done:!1};case 5:i.label++,o=t[1],t=[0];continue;case 7:t=i.ops.pop(),i.trys.pop();continue;default:if(!(c=0<(c=i.trys).length&&c[c.length-1])&&(6===t[0]||2===t[0])){i=0;continue}if(3===t[0]&&(!c||t[1]>c[0]&&t[1]<c[3])){i.label=t[1];break}if(6===t[0]&&i.label<c[1]){i.label=c[1],c=t;break}if(c&&i.label<c[2]){i.label=c[2],i.ops.push(t);break}c[2]&&i.ops.pop(),i.trys.pop();continue}t=r.call(n,i)}catch(e){t=[6,e],o=0}finally{a=c=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},O=u.a.Dragger,f=(n("U2Ro"),n("7DNP"));t.default=function(e){var t=e.history;return m.a.createElement(f.routerRedux.ConnectedRouter,{history:t},m.a.createElement(r,null,m.a.createElement(f.Switch,null,m.a.createElement(f.Route,{exact:!0,path:"/",component:a}),m.a.createElement(f.Route,{exact:!0,path:"/index",component:a}))))}},nWC1:function(e,t,n){},tPa5:function(e,p,d){"use strict";(function(e){d.d(p,"a",function(){return l}),d.d(p,"c",function(){return u}),d.d(p,"d",function(){return s}),d.d(p,"b",function(){return f});d("q5v/");var t=d("QpBz"),c=d.n(t),n=(d("rE2o"),d("ioFf"),d("VRzm"),d("Btvt"),d("vDqi")),r=d.n(n),a=function(e,c,i,l){return new(i=i||Promise)(function(n,t){function r(e){try{o(l.next(e))}catch(e){t(e)}}function a(e){try{o(l.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof i?t:new i(function(e){e(t)})).then(r,a)}o((l=l.apply(e,c||[])).next())})},o=function(n,r){var a,o,c,i={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;i;)try{if(a=1,o&&(c=2&t[0]?o.return:t[0]?o.throw||((c=o.return)&&c.call(o),0):o.next)&&!(c=c.call(o,t[1])).done)return c;switch(o=0,c&&(t=[2&t[0],c.value]),t[0]){case 0:case 1:c=t;break;case 4:return i.label++,{value:t[1],done:!1};case 5:i.label++,o=t[1],t=[0];continue;case 7:t=i.ops.pop(),i.trys.pop();continue;default:if(!(c=0<(c=i.trys).length&&c[c.length-1])&&(6===t[0]||2===t[0])){i=0;continue}if(3===t[0]&&(!c||t[1]>c[0]&&t[1]<c[3])){i.label=t[1];break}if(6===t[0]&&i.label<c[1]){i.label=c[1],c=t;break}if(c&&i.label<c[2]){i.label=c[2],i.ops.push(t);break}c[2]&&i.ops.pop(),i.trys.pop();continue}t=r.call(n,i)}catch(e){t=[6,e],o=0}finally{a=c=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}};r.a.defaults.withCredentials=!0,r.a.interceptors.response.use(function(e){var t=e.data,n=void 0===t?{success:!1}:t,r=n.success,a=n.code,o=n.message;return r&&o?c.a.destroy():r||(403===a?location.href=n.data.login:(c.a.destroy(),c.a.error(o||"网络异常"))),n},function(e){c.a.error("网络错误"),Promise.resolve(e)});var i="production"===e.env.BABEL_ENV?"":"http://10.192.232.166:9079",l=function(e){return r.a.get(i+"/api/get",{params:e})},u=function(e,t,n){r.a.post(i+"/api/upload",e,{headers:{"Content-Type":"multipart/form-data"}}).then(function(e){t(e)}).catch(function(e){n(e)})},s=function(t){return a(void 0,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return[4,r.a.post(i+"/api/beforeUpload",t)];case 1:return[2,e.sent()]}})})},f=function(){return a(void 0,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return[4,r.a.get(i+"/api/prdList")];case 1:return[2,e.sent()]}})})}}).call(this,d("8oxB"))}},[[0,1,2]]]);